<% const fullNames = {reddit: 'Reddit Wiki', sep: 'SEP'} %>
<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../partials/head', {title: entryName}); %>
</head>

<body>
  <%- include('../partials/header'); %>
  <div class="row">
    <div class="col m3"></div>
    <div class="col m6 s12">
      <div class="section">
        <h4><br><%= entryName %></h4>
      </div>
      <div class="divider"></div><br>

      <script src="js/embed.js"></script>
      <ul class="tabs">
        <% if(entryData && entryData.sections) { %>
          <li class="tab"><a class="active" href="#links">Links</a></li>
        <% } %>
        <li class="tab"><a href="#wikipedia">Wikipedia</a></li>
        <% if(entryData && entryData.config && entryData.config.embeds) { %>
          <% for(const [embedIndex, embedData] of Object.entries(entryData.config.embeds)) { %>
            <li class="tab"><a href="#embed<%= embedIndex %>"><%= embedData.name || fullNames[embedData.type] %></a></li>
          <% } %>
        <% } %>
      </ul>
      <div id="links">
        <% if(entryData && entryData.sections) { %>
          <%- include('../partials/links', { sections: entryData.sections, sectionDescriptions: entryData.sectionDescriptions, md }); %>
        <% } %>
      </div>
      <%- include('../partials/embed', { elementId: 'wikipedia', embedData: {type: 'wikipedia', entryName} }); %>
      <% if(entryData && entryData.config && entryData.config.embeds) { %>
        <% for(const [embedIndex, embedData] of Object.entries(entryData.config.embeds)) { %>
          <%- include('../partials/embed', { elementId: `embed${embedIndex}`, embedData }); %>
        <% } %>
        <% } %>
      <%- include('../partials/footer', { entryName }); %>
    </div>
    <div class="col m3"></div>
  </div>
  <script src="js/entry.js"></script>

</body>

</html>
